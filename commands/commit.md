---
description: Stages and commits changes while checking for repo location and branch safety.
argument-hint: [optional context for the message...]
allowed-tools: [Bash]
---

# Task
1. **Find the Repo:** Check if the current directory or subdirectories contain multiple Git repositories. If it is ambiguous, ask the user.
2. **Check Branch:** Never commit directly to `main` or `master`. If on one of these, stop and warn.
3. **Stage:** Run `git add .` in the identified repository.
4. **Draft:** Generate a concise Conventional Commit message based on `git diff --cached`.
5. **Commit:** Execute `git commit -m "<message>"`.

# Constraints
- No "ðŸ¤– Generated by Claude" footer.
- Use imperative mood.
- Stop if there are no changes.

# Optional User Context
$ARGUMENTS
